<rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>Ben Clinkinbeard - Just a Test</title><description>Thoughts, stories and ideas.</description><link>http://localhost:2368/</link><generator>Ghost 0.5</generator><lastBuildDate>Tue, 20 Jan 2015 03:47:50 GMT</lastBuildDate><atom:link href="http://localhost:2368/author/ben/rss/" rel="self" type="application/rss+xml"/><ttl>60</ttl><item><title>Just Another Test Post</title><description>&lt;p&gt;Let's see how good this editor is. Maybe paste in an existing post?&lt;/p&gt;

&lt;p&gt;&lt;a href="https://github.com/substack/node-browserify/"&gt;Browserify&lt;/a&gt; is incredibly popular these days, and rightfully so. In this article we'll look at the basics of how it works.&lt;/p&gt;

&lt;p&gt;Browserify uses the term entry file(s) to describe where it will start reading a dependency graph, and its output is referred to as a bundle. At its highest level, a Browserify bundle is simply an &lt;a href="http://benalman.com/news/2010/11/immediately-invoked-function-expression/"&gt;IIFE&lt;/a&gt;, or Immediately Invoked Function Expression. This is of course a simple mechanism to make code run as soon as it is loaded.&lt;/p&gt;

&lt;h2 id="themodulemap"&gt;The module map&lt;/h2&gt;

&lt;p&gt;The first argument passed to the IIFE is a map, where the keys are unique numbers and the values are 2 element arrays. A very simple version of this map might look like this:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;{
  1: [function (require, module, exports) {
    module.exports = 'DEP';

  }, {}],
  2: [function (require, module, exports) {
    require('./dep');

    module.exports = 'ENTRY';

  }, {"./dep": 1}]
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;As you can see, each module has been assigned a unique number id. The contents of our &lt;code&gt;entry.js&lt;/code&gt; file have been wrapped and given a key of &lt;code&gt;2&lt;/code&gt;, and the contents of &lt;code&gt;dep.js&lt;/code&gt; have been wrapped and keyed as &lt;code&gt;1&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Let's look at the &lt;code&gt;entry.js&lt;/code&gt; module. The first element of the array is the source code wrapped in a closure that Browserify generates for you. The purpose of this wrapper is to prevent scope pollution and to ensure your code has access to the variables that would otherwise be provided by the Node environment. We'll take a closer look at this wrapper in the next section.&lt;/p&gt;

&lt;p&gt;The array's second element is another map, but this time the map is of your module's dependencies. Since &lt;code&gt;entry.js&lt;/code&gt; depends on &lt;code&gt;dep.js&lt;/code&gt;, expressed as &lt;code&gt;require('./dep');&lt;/code&gt; in the source code, the dependency map has an entry whose key is &lt;code&gt;./dep&lt;/code&gt; and whose value is &lt;code&gt;1&lt;/code&gt;. Of course, &lt;code&gt;1&lt;/code&gt; is the key for &lt;code&gt;dep.js&lt;/code&gt; in the module map. Since &lt;code&gt;dep.js&lt;/code&gt; doesn't depend on any other modules, its dependency map is an empty object &lt;code&gt;{}&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;This is a greatly simplified example, but you can see how our dependency tree has been recreated in code. This output is generated by &lt;a href="https://github.com/substack/browser-pack"&gt;browser-pack&lt;/a&gt;, one of the libraries Browserify is built upon.&lt;/p&gt;

&lt;h3 id="generatedclosure"&gt;Generated closure&lt;/h3&gt;

&lt;p&gt;Now that we've seen how the different files are combined and related to one another, let's look at an individual file and how its contents are augmented. The full source of &lt;code&gt;entry.js&lt;/code&gt; is simply&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;require('./dep');

module.exports = 'ENTRY';  
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;but our bundle represents it as&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;function (require, module, exports) {  
  require('./dep');

  module.exports = 'ENTRY';
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;So Browserify has wrapped our code in a closure that specifies a few important arguments. Node, of course, provides a &lt;code&gt;require&lt;/code&gt; &lt;a href="http://nodejs.org/api/globals.html#globals_require"&gt;method&lt;/a&gt; in its environment that serves to synchronously load dependencies. The client side, however, is an entirely different beast. There is no &lt;code&gt;require&lt;/code&gt; available natively in browsers, so Browserify implements it for us and gives us access to it by passing it into these closures.&lt;/p&gt;

&lt;p&gt;The &lt;code&gt;module&lt;/code&gt; and &lt;code&gt;exports&lt;/code&gt; arguments serve a purpose that should be obvious if you are familiar with CommonJS syntax (also used in Node). CommonJS modules specify which values they expose to the outside world using the &lt;code&gt;module&lt;/code&gt; and/or &lt;code&gt;exports&lt;/code&gt; variables. In our &lt;code&gt;entry.js&lt;/code&gt; module above, its output is specified as the string “ENTRY” by assigning it to &lt;code&gt;module.exports&lt;/code&gt;. If we wanted to expose multiple values we could use &lt;code&gt;exports&lt;/code&gt; directly, like &lt;code&gt;exports.foo = “FOO”; exports.bar = “BAR”&lt;/code&gt;. Once again though, these things don't exist in the browser by default. Browserify to the rescue.&lt;/p&gt;

&lt;h2 id="thecache"&gt;The cache&lt;/h2&gt;

&lt;p&gt;The second argument provided to the IIFE is the cache of modules defined in any bundles that were loaded before ours. This is almost always going to be an empty &lt;code&gt;{}&lt;/code&gt;, so we're actually going to skip it here. Just know that it's basically another module map, defined elsewhere, that might get passed into your bundle when it starts up.&lt;/p&gt;

&lt;h2 id="entrymodules"&gt;Entry modules&lt;/h2&gt;

&lt;p&gt;The third and final argument passed to the bundle IIFE is an array of module ids that will serve as the starting point for building our dependency graph. In our case, remember, &lt;code&gt;entry.js&lt;/code&gt; has been given an id of &lt;code&gt;2&lt;/code&gt;. Therefore the third argument is &lt;code&gt;[2]&lt;/code&gt;. It is an array because you can specify multiple entry files, which is apparently common for running tests, but not something I have seen a lot of.&lt;/p&gt;

&lt;h2 id="makingitallwork"&gt;Making it all work&lt;/h2&gt;

&lt;p&gt;Now that we know what is being passed, let's talk about what the F in the IIFE actually does. This function also comes from the browser-pack project. Specifically, the &lt;a href="https://github.com/substack/browser-pack/blob/d29fddc8a9207d5f967664935073b50971aff708/prelude.js"&gt;prelude.js file&lt;/a&gt;. I'd encourage you to click through and read the file itself (it's pretty well commented), but it's actually even simpler than it looks.&lt;/p&gt;

&lt;p&gt;Basically, each entry module id is passed into a function where it is looked for in the cache. If it is found, the module's &lt;code&gt;exports&lt;/code&gt; property is returned, fulfilling the dependency. If the id is not found in the cache then our own module map is checked.&lt;/p&gt;

&lt;p&gt;When an id is found in our map, the generated closure is called, passing in the &lt;code&gt;require&lt;/code&gt;, &lt;code&gt;module&lt;/code&gt;, and &lt;code&gt;exports&lt;/code&gt; arguments, and the module is added to the cache. The module is also given access to its dependency map so that its own &lt;code&gt;require&lt;/code&gt; calls can be fulfilled.&lt;/p&gt;

&lt;p&gt;If an id is &lt;em&gt;not&lt;/em&gt; found in our module map, Browserify will look in any previously loaded bundles for the id. If it cannot be found there, an error is thrown.&lt;/p&gt;

&lt;h2 id="conclusion"&gt;Conclusion&lt;/h2&gt;

&lt;p&gt;Whew! While the basic mechanism used is quite simple, there is a lot of brilliance and intricacy in making it work as well as it does. Not only that, but we've only covered the most basic of scenarios here. Browserify supports all kinds of advanced features like module aliases, external modules, transforms, and all kinds of other goodies. Those topics, however, will have to be covered another day. Until then, I highly recommend giving Browserify a try on your next project. It is productive, performant, and opens the door to tens of thousands of modules available on &lt;a href="http://npmjs.org/"&gt;npm&lt;/a&gt;. What's not to love?&lt;/p&gt;

&lt;h2 id="browserifyscreencasts"&gt;Browserify screencasts&lt;/h2&gt;

&lt;p&gt;If you enjoyed this article, I have a couple of Introduction to Browserify videos over at &lt;a href="http://egghead.io/"&gt;egghead.io&lt;/a&gt;. &lt;a href="https://egghead.io/lessons/nodejs-introduction-to-browserify-part-1"&gt;The first one&lt;/a&gt; is freely available, but &lt;a href="https://egghead.io/lessons/nodejs-introduction-to-browserify-part-2"&gt;the second&lt;/a&gt; requires a subscription.&lt;/p&gt;</description><link>http://localhost:2368/just-another-test-post/</link><guid isPermaLink="false">fc49024c-12bc-4c8a-b811-96d10fbaf14c</guid><dc:creator>Ben Clinkinbeard</dc:creator><pubDate>Tue, 20 Jan 2015 03:35:43 GMT</pubDate></item><item><title>Welcome to Ghost</title><description>&lt;p&gt;You're live! Nice. We've put together a little post to introduce you to the Ghost editor and get you started. You can manage your content by signing in to the admin area at &lt;code&gt;&amp;lt;your blog URL&amp;gt;/ghost/&lt;/code&gt;. When you arrive, you can select this post from a list on the left and see a preview of it on the right. Click the little pencil icon at the top of the preview to edit this post and read the next section!&lt;/p&gt;

&lt;h2 id="gettingstarted"&gt;Getting Started&lt;/h2&gt;

&lt;p&gt;Ghost uses something called Markdown for writing. Essentially, it's a shorthand way to manage your post formatting as you write!&lt;/p&gt;

&lt;p&gt;Writing in Markdown is really easy. In the left hand panel of Ghost, you simply write as you normally would. Where appropriate, you can use &lt;em&gt;shortcuts&lt;/em&gt; to &lt;strong&gt;style&lt;/strong&gt; your content. For example, a list:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Item number one&lt;/li&gt;
&lt;li&gt;Item number two
&lt;ul&gt;&lt;li&gt;A nested item&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;A final item&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;or with numbers!&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Remember to buy some milk  &lt;/li&gt;
&lt;li&gt;Drink the milk  &lt;/li&gt;
&lt;li&gt;Tweet that I remembered to buy the milk, and drank it&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id="links"&gt;Links&lt;/h3&gt;

&lt;p&gt;Want to link to a source? No problem. If you paste in a URL, like &lt;a href="http://ghost.org/"&gt;http://ghost.org&lt;/a&gt; - it'll automatically be linked up. But if you want to customise your anchor text, you can do that too! Here's a link to &lt;a href="http://ghost.org/"&gt;the Ghost website&lt;/a&gt;. Neat.&lt;/p&gt;

&lt;h3 id="whataboutimages"&gt;What about Images?&lt;/h3&gt;

&lt;p&gt;Images work too! Already know the URL of the image you want to include in your article? Simply paste it in like this to make it show up:&lt;/p&gt;

&lt;p&gt;&lt;img src="https://ghost.org/images/ghost.png" alt="The Ghost Logo"&gt;&lt;/p&gt;

&lt;p&gt;Not sure which image you want to use yet? That's ok too. Leave yourself a descriptive placeholder and keep writing. Come back later and drag and drop the image in to upload:&lt;/p&gt;

&lt;h3 id="quoting"&gt;Quoting&lt;/h3&gt;

&lt;p&gt;Sometimes a link isn't enough, you want to quote someone on what they've said. It was probably very wisdomous. Is wisdomous a word? Find out in a future release when we introduce spellcheck! For now - it's definitely a word.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Wisdomous - it's definitely a word.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h3 id="workingwithcode"&gt;Working with Code&lt;/h3&gt;

&lt;p&gt;Got a streak of geek? We've got you covered there, too. You can write inline &lt;code&gt;&amp;lt;code&amp;gt;&lt;/code&gt; blocks really easily with back ticks. Want to show off something more comprehensive? 4 spaces of indentation gets you there.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;.awesome-thing {
    display: block;
    width: 100%;
}
&lt;/code&gt;&lt;/pre&gt;

&lt;h3 id="readyforabreak"&gt;Ready for a Break?&lt;/h3&gt;

&lt;p&gt;Throw 3 or more dashes down on any new line and you've got yourself a fancy new divider. Aw yeah.&lt;/p&gt;

&lt;hr&gt;

&lt;h3 id="advancedusage"&gt;Advanced Usage&lt;/h3&gt;

&lt;p&gt;There's one fantastic secret about Markdown. If you want, you can write plain old HTML and it'll still work! Very flexible.&lt;/p&gt;

&lt;p&gt;&lt;input type="text" placeholder="I'm an input field!"&gt;&lt;/p&gt;

&lt;p&gt;That should be enough to get you started. Have fun - and let us know what you think :)&lt;/p&gt;</description><link>http://localhost:2368/welcome-to-ghost/</link><guid isPermaLink="false">bae41e55-a32c-4544-9353-eada79d0ea9c</guid><category>Getting Started</category><dc:creator>Ben Clinkinbeard</dc:creator><pubDate>Tue, 20 Jan 2015 03:31:32 GMT</pubDate></item></channel></rss>